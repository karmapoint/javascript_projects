<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1">
    <title>Sampler</title>

    <link rel="stylesheet" href="css/styles.css">
    <script type="text/javascript" src="js/lib/paper-full.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.4/howler.js">

    </script>

    <script type="text/paperscript" canvas="myCanvas">

      var keyData ={
        a: {
          color: "aliceblue",
          sound: new Howl({ src: ['sounds/a.mp3']})
        },
        b: {
          color: "blue",
          sound: new Howl({ src: ['sounds/b.mp3']})
        },
        c: {
          color: "chartreuse",
          sound: new Howl({ src: ['sounds/c.mp3']})
        },
        d: {
          color: "darkturquoise",
          sound: new Howl({ src: ['sounds/d.mp3']})
        },
        e: {
          color: "dodgerblue",
          sound: new Howl({ src: ['sounds/e.mp3']})
        },
        f: {
          color: "firebrick",
          sound: new Howl({ src: ['sounds/f.mp3']})
        },
        g: {
          color: "green",
          sound: new Howl({ src: ['sounds/g.mp3']})
        },
        h: {
          color: "hotpink",
          sound: new Howl({ src: ['sounds/h.mp3']})
        },
        i: {
          color: "indianred",
          sound: new Howl({ src: ['sounds/i.mp3']})
        },
        j: {
          color: "lavender",
          sound: new Howl({ src: ['sounds/j.mp3']})
        },
        k: {
          color: "khaki",
          sound: new Howl({ src: ['sounds/k.mp3']})
        },
        l: {
          color: "lawngreen",
          sound: new Howl({ src: ['sounds/l.mp3']})
        },
        m: {
          color: "magenta",
          sound: new Howl({ src: ['sounds/m.mp3']})
        },
        n: {
          color: "navajowhite",
          sound: new Howl({ src: ['sounds/n.mp3']})
        },
        o: {
          color: "olivedrab",
          sound: new Howl({ src: ['sounds/o.mp3']})
        },
        p: {
          color: "palegoldenrod",
          sound: new Howl({ src: ['sounds/p.mp3']})
        },
        q: {
          color: "rebeccapurple",
          sound: new Howl({ src: ['sounds/q.mp3']})
        },
        r: {
          color: "red",
          sound: new Howl({ src: ['sounds/r.mp3']})
        },
        s: {
          color: "slategray",
          sound: new Howl({ src: ['sounds/s.mp3']})
        },
        t: {
          color: "thistle",
          sound: new Howl({ src: ['sounds/t.mp3']})
        },
        u: {
          color: "turquoise",
          sound: new Howl({ src: ['sounds/u.mp3']})
        },
        v: {
          color: "violet",
          sound: new Howl({ src: ['sounds/v.mp3']})
        },
        w: {
          color: "white",
          sound: new Howl({ src: ['sounds/w.mp3']})
        },
        x: {
          color: "yellowgreen",
          sound: new Howl({ src: ['sounds/x.mp3']})
        },
        y: {
          color: "yellow",
          sound: new Howl({ src: ['sounds/y.mp3']})
        },
        z: {
          color: "tomato",
          sound: new Howl({ src: ['sounds/z.mp3']})
        }
      }

      var myCircle;
      var circles =[];

      function onKeyDown(event) {
        if(keyData[event.key]){
          myCircle = new Path.Circle(new Point(Math.floor(Math.random() * view.size.width), Math.floor(Math.random() * view.size.height)), 400);
          myCircle.fillColor = keyData[event.key].color;
          keyData[event.key].sound.play();
          circles.push(myCircle);
        }
      }

      function onFrame(event){
        for (var i = 0; i < circles.length; i++) {
          circles[i].fillColor.alpha -= .03;
          circles[i].scale(.9);

          if (circles[i].area < 1){
            circles[i].remove();
            circles.splice(i, 1);
          }
        }
      }


    </script>
  </head>
  <body>
    <!-- http://www.noisecrux.com/2013/09/13/multisampled-electric-guitar/ -->
	   <canvas id="myCanvas" resize></canvas>
  </body>
</html>
